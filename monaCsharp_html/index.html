<!DOCTYPE html>
<html lang="ja">
  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>monaCsharp</title>
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
	  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
	<![endif]-->
  </head>
  <body role="document">
  <span id="top"></span>
  	<div class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
		  <div class="navbar-header">
			<a class="navbar-brand" href="index.html">mona<span style="color: #869de0; font-weight: bold;">C</span>sharp</a>
		  </div>
		  <div class="navbar-collapse collapse">
			<ul class="nav navbar-nav">
			  <li class="active"><a href="#">Return to Top</a></li>
			  <li><a href="#about">About</a></li>
			  <li><a href="#include">導入方法</a></li>
			  <li><a href="#download">ダウンロード</a></li>
			  <li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown">パブリック変数一覧 <b class="caret"></b></a>
				<ul class="dropdown-menu">
				  <li><a href="#mona_info">mona_info</a></li>
				  <li><a href="#mona_info_other">mona_info_other</a></li>
				</ul>
			  </li>
			  <li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown">パブリックメソッド一覧 <b class="caret"></b></a>
				<ul class="dropdown-menu">
				  <li><a href="#createconfigfile">CreateConfigFile</a></li>
				  <li><a href="#isrightaddress">IsRightAddress</a></li>
				  <li><a href="#runcommand">RunCommand</a></li>
				  <li><a href="#exception">例外処理</a></li>
				</ul>
			  </li>
			</ul>
		  </div><!--/.nav-collapse -->
		</div>
	  </div>
  
	  <br><br><br><br>
	  <div class="container theme-showcase" role="main">
			<div class="jumbotron">
				<h1>mona<span style="color: #869de0;">C</span>sharp</h1>
				<p>
					This C# library was made for monacoin. 
					<br>
					Written by Contrail : MSny7fzHiS3r8FYwRm2i7RyjSRfzRWWMwX
				</p>
			</div>
			<div class="alert alert-danger">
				使用には.NET Framework 4.0以上の.NETフレームワークが必要です
			</div>
			<div class="page-header" id="about">
				<h1>mona<span style="color: #869de0;">C</span>sharpについて</h1>
			</div>
			このライブラリはmonacoin-qt、monacoindをコントロールするためのC#ライブラリです
			<br>
			使える機能は以下のとおりです
			<br><br>
			<ul>
				<li>monacoin.confの読み込み及び書き込み</li>
				<li>アドレスが正規かの確認</li>
				<li>各APIコマンドの実行</li>
			</ul>
			<div class="page-header" id="include">
				<h1>導入方法</h1>
			</div>
			<ol>
				<li>
					<p>
						参照設定から<code>monaCsharp.dll</code>を追加する。
					</p>
				</li>
				<li>
					<p>
						コード内でインスタンスを宣言します
						<br>
						例：
						<code>monaCsharp.methods mc = new monaCsharp.methods();</code>
					</p>
				</li>
			</ol>
			<div class="page-header" id="download">
				<h1>ダウンロード</h1>
			</div>
			<button type="button" class="btn btn-lg btn-default"><a target="_blank" href="https://github.com/ContrailSky/monaCsharp/archive/master.zip" style="text-decoration: none;">GitHub Direct Link</a></button>
			<button type="button" class="btn btn-lg btn-default"><a target="_blank" href="https://github.com/ContrailSky/monaCsharp" style="text-decoration: none;">GitHub Repository Page</a></button>
			<div class="page-header">
				<h1>パブリック変数一覧</h1>
			</div>
			<table class="table">
			  <thead>
				<tr>
				  <th>変数名</th>
				  <th>型</th>
				  <th>初期値</th>
				  <th>使用目的　及び　詳細</th>
				</tr>
			  </thead>
			  <tbody>
				<tr id="mona_info">
				  <td><code>mona_info</code></td>
				  <td><code>String[]</code></td>
				  <td>
						<ul>
							<li>mona_info[0]：user</li>
							<li>mona_info[1]：password</li>
							<li>mona_info[2]：127.0.0.1</li>
							<li>mona_info[3]：25535</li>
							<li>mona_info[4]：1</li>
							<li>mona_info[5]：1</li>
							<li>mona_info[6]：1</li>
						<ul>
				  </td>
				  <td>
				  	monacoin-qtもしくはmonacoindに接続する際に
					<br>
					使用する設定を格納している変数です。
					<br><br>
					また、この変数はCreateConfigFileメソッドに
					<br>
					よって変更されます。
					<br><br>
					0:rpcuser
					<br>
					1:rpcpassword
					<br>
					2:rpcallowip
					<br>
					3:rpcport
					<br>
					4:server
					<br>
					5:daemon
					<br>
					6:listen
				  </td>
				</tr>
				<tr id="mona_info_other">
				  <td><code>mona_info_other</code></td>
				  <td><code>String</code></td>
				  <td></td>
				  <td>
					CreateConfigFileによってmonacoin.confを
					<br>
					読み込んだ際、漏れだした設定が格納されます。
					<br><br>
					それぞれの設定は=で繋がれます。
					<br>
					出力例：<code>foo=bar=hoge=piyo</code>
				  </td>
				</tr>
			  </tbody>
			</table>
			<div class="page-header">
				<h1>パブリックメソッド一覧</h1>
			</div>
			<br>
			<div class="panel panel-primary" id="createconfigfile">
			<div class="panel-heading">
			  <h3 class="panel-title" style="font-weight: bold;">CreateConfigFile([String])</h3>
			</div>
			<div class="panel-body">
				<h3>概要</h3>
			 	monacoin.confファイルの存在を確認し、存在しない場合は既定値のデータ(<code>mona_info[]</code>)を書き込み、
				<br>
				存在する場合はmonacoin.confを読み込み、<code>mona_info[]</code>に代入する。
				<br><br>
				<h3>構文</h3>
				<code>
					public string CreateConfigFile(string path)
				</code>
				<br><br>
				<h3>引数</h3>
				<table class="table">
				  <thead>
					<tr>
					  <th>引数名</th>
					  <th>型</th>
					  <th>詳細</th>
					  <th></th>
					</tr>
				  </thead>
				  <tbody>
				  	<tr>
						<td><code>path</code></td>
						<td><code>String</code></td>
						<td>
							monacoin.confの絶対パスを指定
							<br><br>
							指定されなかった場合は<code>%AppData%\Monacoin\monacoin.conf</code>が指定される
						</td>
					</tr>
				  </tbody>
				 </table>
				<br><br>
				<h3>返り値</h3>
				<table class="table">
				  <thead>
					<tr>
					  <th>型</th>
					  <th>詳細</th>
					</tr>
				  </thead>
				  <tbody>
					<tr>
						<td><code>String</code></td>
						<td>
							正常終了の際は<code>null</code>
							<br>
							異常終了の際の返り値は<a href="#exception">例外処理</a>を参照
						</td>
					</tr>
				  </tbody>
				 </table>
			</div>
		  </div>
		  <br><br>
		  <div class="panel panel-primary" id="isrightaddress">
			<div class="panel-heading">
			  <h3 class="panel-title" style="font-weight: bold;">IsRightAddress(String)</h3>
			</div>
			<div class="panel-body">
				<h3>概要</h3>
					monacoinで使えるアドレスか確認します
				<br><br>
				<h3>構文</h3>
				<code>
					public string IsRightAddress(string address)
				</code>
				<br><br>
				<h3>引数</h3>
				<table class="table">
				  <thead>
					<tr>
					  <th>引数名</th>
					  <th>型</th>
					  <th>詳細</th>
					  <th></th>
					</tr>
				  </thead>
				  <tbody>
					<tr>
						<td><code>address</code></td>
						<td><code>String</code></td>
						<td>
							確認するアドレスの文字列
						</td>
					</tr>
				  </tbody>
				 </table>
				<br><br>
				<h3>返り値</h3>
				<table class="table">
				  <thead>
					<tr>
					  <th>型</th>
					  <th>詳細</th>
					</tr>
				  </thead>
				  <tbody>
					<tr>
						<td><code>String</code></td>
						<td>
							正常終了の際は<code>null</code>
							<br>
							異常終了の際は<code>認められないアドレス</code>
						</td>
					</tr>
				  </tbody>
				 </table>
			</div>
		  </div>
		  <br><br>
		  <div class="panel panel-primary" id="runcommand">
			<div class="panel-heading">
			  <h3 class="panel-title" style="font-weight: bold;">RunCommand(String, Object[])</h3>
			</div>
			<div class="panel-body">
				<h3>概要</h3>
					指定したアドレスに対して認証をしJSON-RPCデータをPOSTします
				<br><br>
				<h3>構文</h3>
				<code>
					public string RunCommand(string method, object[] param)
				</code>
				<br><br>
				<h3>引数</h3>
				<table class="table">
				  <thead>
					<tr>
					  <th>引数名</th>
					  <th>型</th>
					  <th>詳細</th>
					  <th></th>
					</tr>
				  </thead>
				  <tbody>
					<tr>
						<td><code>method</code></td>
						<td><code>String</code></td>
						<td>
							送信するコマンド(<a href="https://en.bitcoin.it/wiki/Original_Bitcoin_client/API_Calls_list">Original Bitcoin client/API calls list</a>を参照)
						</td>
					</tr>
					<tr>
						<td><code>param</code></td>
						<td><code>Object[]</code></td>
						<td>
							送信するパラメータ(<a href="https://en.bitcoin.it/wiki/Original_Bitcoin_client/API_Calls_list">Original Bitcoin client/API calls list</a>を参照)
						</td>
					</tr>
				  </tbody>
				 </table>
				<br><br>
				<h3>返り値</h3>
				<table class="table">
				  <thead>
					<tr>
					  <th>型</th>
					  <th>詳細</th>
					</tr>
				  </thead>
				  <tbody>
					<tr>
						<td><code>String</code></td>
						<td>
							正常終了の際は受信したJSON-RPCデータを<span style="color: red; font-weight: bold;">デシリアライズしていない状態</span>で受け取る
							<br>
							異常終了の際の返り値は<a href="#exception">例外処理</a>を参照
						</td>
					</tr>
				  </tbody>
				 </table>
			</div>
		  </div>
		  <br><br>
		  	<div class="panel panel-danger" id="exception">
			<div class="panel-heading">
			  <h3 class="panel-title" style="font-weight: bold;">例外処理</h3>
			</div>
			<div class="panel-body">
			  例外が発生した場合は次のテンプレートに従って返り値を送ります。
			  <br><br><br>
			  <code>
			  	[MESSAGE]\r\n<br>
				System.Exception.Message\r\n<br>\r\n<br>
				[SOURCE]\r\n<br>
				System.Exception.Source\r\n<br>\r\n<br>
				[STACK_TRACE]\r\n<br>
				System.Exception.StackTrace\r\n<br>\r\n<br>
				[TARGET_SITE]\r\n<br>
				System.Exception.TargetSite\r\n<br>
			  </code>
			  <br><br>
			  また、サーバー内で例外が起きた場合はサーバーによるJSON-RPCデータでのエラー報告を受けることになります
			  <br>
			  エラーコードは(<a href="https://github.com/bitcoin/bitcoin/blob/master/src/rpcprotocol.h#L34">bitcoin/src/rpcprotocol.h at master · bitcoin/bitcoin 34行目</a>)を参照
			</div>
		  </div>
		</div>
		<script src="https://code.jquery.com/jquery.js"></script>
		<script src="js/bootstrap.min.js"></script>
  </body>
</html>